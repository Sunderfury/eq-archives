------------------------------------------------------------------------
 EQ On Disp Timer
 EQT.exe Version.3.0 (c)2000 ＥＱの道具屋さん
------------------------------------------------------------------------

●目的

　ＥＱのプレイ画面の隅に小さなタイマー表示を行うためのソフトです。
　バージョンアップによって以下の機能が追加されました。
　１.４つまでのタイマーを表示可能、もちろん制御も別々
　２.カウントダウンモードを搭載
　３.カウントダウンモード用の時間設定をＥＱプレイ中に可能
　４.ログファイルを監視してSlainメッセージでオートリセット
　５.ログファイルを監視したくない場合は、タイム０でリセットも可能
　６.アラームとして、指定時間にＷＡＶＥファイルを鳴らす事が可能（２セット）
　７.カウントダウン時、残り時間で色分け表示

　3.0で更に以下の機能が追加されました。
　８．時刻表示
　９．ＰＳＴ（ＰＤＴ）時刻表示（ＵＳ太平洋側の時刻、サマータイムにも対応しています）
　１０．Norrath時刻表示（昼夜で色変更）
　１１．０リセット
　１２．ポーズ機能
　１３．左上と右上の表示位置設定
　１４．フォントサイズの設定

●動作環境

　動作環境は、日本語Windows95, 日本語Windows98を対象に作成されています。
WindowsNT4.0、Windows2000では動作確認を行っていません。

ただし、タイマーで無理矢理描画しているため、ビデオカードによっては、表示が行えません。
　特にGlideモードでは、表示が行えないのを確認しています(^-^;;
　GlideでなくてもＶｏｏｄｏｏ系だめっぽい…。
　当方の動作確認はカノープスのSPECTRA3200R2、8400です。これでは確実に表示できています。 

　また、アラームのWAVEファイル再生については、SIKAXと同様にサウンドボードによっては、
ＥＱプレイ時にＷＡＶＥの再生が出来ない環境がありえます。
　当方ではSoundBraster Live!と￥２０００の妖しいサウンドボードで
動作確認を行っています。(^-^;;最近のＰＣＩのならＯＫそうですよん

●インストール方法

　EQT.exe, EQTLIB.DLLを同じフォルダにコピーして下さい。フォルダについては
どこでも構いません。一般的には、EQTというフォルダをどこかに作成してその中に
まとめて置いておくとよいでしょう。
　前バージョンのexeとdllの組み合わせと混ぜないで下さい。exeとdllはバージョンが
一致している必要があります。


●アンインストール方法

　アンインストールは、EQT.exeとEQTLIB.DLLを削除して下さい。また、ホットキーの設定
を保存するために、EQT.exeと同じフォルダにできるEQT.INIも削除して下さい。
　レジストリに情報を保存したりはしないので、配布ファイルと設定のINIファイルだけを
削除すれば完全にアンインストールでき、Windowsの再インストール時もセットアップ不要で
そのまま使用できます。
　実行中は削除できませんので、終了させてから削除を行って下さい。


●使用方法

　起動すると、画面右上に小さく時計のような数字表示がカウントアップされていきます。
また、タスクトレイには、EQTのアイコンが入ります。タスクトレイのアイコンを
クリックすることで、メニューが呼び出せます。
　メニューは以下の３つです。

　Config		設定画面のオープン
　About			EQTについて
　-----------
　EQT Exit		EQTの終了

　設定画面では、各タイマーの設定とオートリセット関係の設定がタブで分けられて
います。
　まず、各タイマーの設定について説明します。

　[Not Use] 　チェックするとこの行のタイマーが使用されなくなります。
　[Not Disp]　チェックすると初期表示がされなくなります。ホットキーで表示制御可能
　[Hotkey]　　ＥＱ内で操作するためのホットキーを選んで下さい。
　[Alarm1]　　アラーム１です。左側のエディットボックスに秒数、右にＷＡＶＥファイル
　[Alarm2]　　アラーム２です。左側のエディットボックスに秒数、右にＷＡＶＥファイル

　ホットキーの設定では、コンボボックスの選択肢からひとつを選ぶことが出来ます。
デフォルトではタイマー１に無変換キーが選択されています。
　このホットキーにはEQで使われていないキーーを選択して下さい。
　EQはDirectXで動作していますので、キーの押下状態を直接とっていますから、
EQで使用しているキーを選ぶと、そちらも動作してしまいます。
　ちなみに、私はＦ９〜Ｆ１２のＥＱのキー設定を他に変更して、そこに順番に
割り当てています。

　次にオートリセット関係の設定です。
　[Not Use]　　　　　　　全てのタイマーでオートリセットを行いません。
　[Loop] 　　　　　　　　カウントダウンが０になった時にリセットします。
　[Slain Message Check]　ログファイルにSlainやDiedメッセージが出現した時にリセットします。
　[eqlog.txt]　　　　　　ログをチェックする場合、ログの場所を指定しておきます。

　オートリセットを一部のタイマーだけ使用しない場合は、Shift+ホットキーで
　ON/OFFを切り替えてください。

　最後にその他の設定です。
　[Position] 　　　　　　表示位置設定、右上（デフォルト）と左上が選べます。
　[Font Size]　　　　　　フォントサイズの指定

　ゲーム中のEQTの操作は、各タイマーにひとつずつのホットキーとCtrlキー、Altキー、
Shiftキーの組み合わせで行います。

　ホットキーのみを押すと、モードが以下の順番で切り替わります。

　１．カウントアップタイマー
　２．カウントダウンタイマー
　３．日本時間
　４．ＰＳＴ
　５．Norrath時刻
　６．非表示

　非表示の時にもう一度押すと１のカウントアップタイマーに戻ります。

　カウントアップモードの場合
　　ホットキー＋Ctrlキーを押すと、時間計測をリセットして０からカウントを再開します。
　　ホットキー＋Shift＋Ctrlキーを押すと、時間計測をポーズします。

　カウントダウンモードの場合
　　ホットキー＋Ctrlキーを押すと、時間計測をリセットして０からカウントを再開します。
　　ホットキー＋Altキーを押すと、カウントダウン用の時間設定モードになります。
　　ホットキー＋Shiftキーを押すと、オートリセットの使用のON/OFFを切り替えます。
　　ホットキー＋Shift＋Ctrlキーを押すと、時間計測をポーズします。
　　ホットキー＋Ctrl＋Altキーを押すと、設定時間ではなく０にリセットします。
　　（これにより、Spawnタイマーとして利用する場合に最初のリセットを手動ではなくオートリセットで行えます。）

　カウントダウン時間設定モードの場合
　　ホットキー＋Altキーを押すと、設定を終了します。
　　Enterキーでも設定を終了します。
　　数字キーを押すと時間が入力されて行きます。
　　BackSpaceキーを押すと、時間が１桁ずつ消されて行きます。
　　Deleteキーを押すと、全て消去して00:00:00にします。再設定用

　日本時間／ＰＳＴの時刻表示の場合
　　操作は特にありません。

　Norrath時刻表示の場合
　　ホットキー＋Altキーを押すと、時間設定モードになります。
　　ホットキー＋Shiftキーを押すと、ログ監視による/timeコマンドでの設定の使用のON/OFFを切り替えます。
　　手動設定の方法はカウントダウンの時間設定モードと全く同じです。


　時間設定モードでの数値入力ですが、hhmmssと入力することになります。
　例えば、２６分に設定したい場合は、2600と入力すると00:26:00となります。

　また、すでに設定されているタイマーを再設定する場合は、前の時間が表示されて
いますので、DELキーで00:00:00にしてから入力してください。

　時間設定を行ってもリセットは行いませんので、設定直後には設定値にはなっていません。
　時間合わせのリセットを先に行ってから時間設定を行えるようにするためです。
　リセットも必要な場合は設定後に手動でリセットして下さい。

　注意！）数字キーを押すときは十分注意して下さい。ＥＱのキー入力も効いてしまうので
　ショートカットが働いてしまう事がありえます。出来ればチャット入力欄を開いて
入力するか、スペルブックを開いて、ショートカットキーが働かない状態で入力して下さい。

　Norrath時刻表示用の時刻合わせについて。
　Norrathの時間はだいたい、地球時間の３分で１時間になります。
　サーバー側の処理の重さなどにより微妙にずれていくかも知れませんが、この時間で大体
許容範囲です。
　手動で時刻を合わせるには、/timeコマンドでNorrathの時刻を表示して合わせて下さい。
　また、オートリセット用にログ監視を行なっている場合は、/timeコマンドの結果がログに
書き出されると自動的にその時刻に設定されます。
　より正確に合わせたい方は、/timeコマンドを何度も行なって、１時間の頭で設定して下さい。
　その場合Shift＋ホットキーで自動設定をOFFにすると後の/timeコマンドで毎回１時間の頭に
設定されてしまう事がなくなります。

　アラームについて。
　アラームは１つのタイマーにつき、２つ定義できます。
　カウントダウンモード時のみ有効です。
　使用しない場合は、ＷＡＶＥファイルの指定欄を空にして下さい。
　鳴らすタイミングですが、設定時間以下になったときに鳴ります。０にも設定可能。
　タイマーが非表示の時には鳴りません。
　非表示から表示に変更された時に過ぎていれば表示した瞬間に鳴ります。
　カウントダウンの設定時間よりアラーム設定が長い場合は鳴りません。
　popsoon.wavをサンプルで付属させました、よかったら使ってみて下さい。

　オートリセットについて。
　カウントダウンモードでのみ有効です。
　オートリセットにはループかログチェックの２種類のどちらかを選択できます。
　デフォルトではログ監視に設定されています。
　ログ監視を使用する場合はexlog.txtの位置を指定してください。
　ＥＱのプレイ中にログ記録を/log onで行う必要があります。
　（これはiniファイルで設定できるようになりましたね）
　Slainメッセージとdied.のみ対応しています。メッセージが変わった場合は、
　そのうち対応されます(^-^;

　ポップタイムを計る場合に、ループですと、段々ずれて行くことになると思います。
　忘れないで倒した瞬間に手動リセットすれば問題ありませんが…。
　ログ監視の場合は、マイナスになっているタイマーのみリセットされます。
　つまり、お目当てのNPCがポップする時間を経過した後のSlainでリセットされます。
　メッセージをうまく捕らえられなかった場合は手動でリセットして下さい。
　（お目当てとの戦闘中ペットやパーティメンバーが死ぬとリセットされますｗ）
　まぁ忘れてもそんなにずれないと思いますが（ｗ
　diedは誤認識しやすいと思いますが、マイナスになってからしかリセットされないため
実用上は問題ないと思います。

　各タイマーにてShift+ホットキーでオートリセットの使用有無を切り替えられます。
　オートリセットが有効な場合はそのタイマーの時間表示部分の最後に.(ピリオド)が
表示されます。

　タイマーの表示色について。
　カウントアップモードでは従来と同じ水色で表示されます。
　カウントダウンモードでは緑色で表示され、更に５分以下では黄色、１分以下では赤色
で表示されます。マイナスになると黒で表示されます。
　時間設定時には紫で表示されます。
　日本時間時計はオレンジで表示されます。
　ＰＳＴ（ＰＤＴ）表示はピンクで表示されます。
　Norrath時刻は、昼（6:00〜20:00）は白、夜（20:00〜6:00）は青で表示されます。

　色を変更したい方はEQT.INIの[FONT_COLOR]セクションを編集して下さい。

[FONT_COLOR]
NORMAL=00FFFF00
COUNT_DOWN=0000FF00
5MIN=0000FFFF
1MIN=000000FF
AFTER=00000000
INPUT=00FF00FF
RESET=00FFFFFF
CLOCK=0000C0FF
USCLOCK=00FF80FF
EQCLOCK_NIGHT=00FF0000
EQCLOCK_NOON=00FFFFFF

　↑がデフォルト設定ですが、00BBGGRRという感じでRGBを１６進数で指定して下さい。
起動中ですと終了時に今の設定で上書きされてしまいますので、EQTを起動していない時に
編集しましょう。

　消去についてですが、時間表示は消去しますが、背景については再描画をさせていません。
ですから、通常のウィンドウズの画面では、背景部分が残りますが、EQ上では、
画面全体が頻繁に再描画されていますから、自然と消えます。
　再描画を行わせるようにすると、かなりの時間ちらつくので、特になにもしないことに
しました。

　現在のところ、カウントを止めるという機能はありません。ひたすらカウントアップを
行っており、任意の時点でホットキーが押されるとリセットされるという使用方法を
想定しています。


●使用条件

　本ソフトウェアは、フリーソフトウェアです。使用に際して料金等は発生しません。
ただし、ソフトウェアの著作権は作者が保持します。無断で本ソフトウェアを
改ざんしたり、配布する事を厳禁いたします。


●免責

　本ソフトウェアは、作者が善意で公開するものであり、ソフトウェア本体に
不具合があったり、本ソフトウェアの動作で、使用する側になんらかの不利益が
生じたとしても、作者は免責させて頂きます。ご使用に際しては、御自身の責任の
元にご利用下さい。


●配布

　配布は以下のURLのみで行っております。ソフトウェア自体の転載等はご相談下さい。

http://www.e-douguya.com/

　上記URLへのリンクはご自由にどうぞ。^^
ページの下の方にバナーを用意してありますので、使ってやって下さい^^/


●連絡

　作者は不具合等の修正や、機能追加の責は負いませんが、なるべく対応したいと
考えます。何かありましたら、上記配布サイトからリンクが張られているEQBBSに
ご連絡下さい。


●変更履歴

　11/4, 2000 Ver.2.0  時刻表示、Norrath時刻表示、フォントサイズ、位置変更、ポーズ
　8/ 8, 2000 Ver.2.0  カウントダウンモード、アラーム、オートリセット、色別表示
　6/ 6, 2000 Ver.1.2  サポートサイト引越しに伴いリソースURLを変更
　9/15, 1999 Ver.1.1  他のHOOKルーチンへのメッセージのパスに失敗していたのを修正
　9/13, 1999 Ver.1.0  とりあえず完成


以上 11/4, 2000
------------------------------------------------------------------------
.
