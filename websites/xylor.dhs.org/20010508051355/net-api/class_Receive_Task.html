<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Receive_Task class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Receive_Task  Class Reference</h1>Receive Data Task. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Receive_Task_h-source.html">Receive_Task.h</a>&gt;</code>
<p>
<p>Inheritance diagram for Receive_Task::
<p><center><img src="class_Receive_Task.gif" usemap="#Receive_Task_map" border="0"></center>
<map name="Receive_Task_map">
<area href="class_Protocol_Task.html" alt="Protocol_Task" shape="rect" coords="0,56,197,80">
<area href="class_ACE_Task.html" alt="ACE_Task" shape="rect" coords="0,0,197,24">
</map>
<a href="class_Receive_Task-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef <a class="el" href="class_Protocol_Task.html">Protocol_Task</a>&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#s0">inherited</a></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a0">Receive_Task</a> (ACE_SOCK_Dgram &amp;listener, <a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a> *_stream)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Give it something to listen to...</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a1">~Receive_Task</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a2">open</a> (int thread=1, <a class="el" href="Protocol_Stream_h.html#a1">Thread_Timer_Queue</a> *timer_queue=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Call this to start listening on the server port.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a3">close</a> (u_long flags)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Stop listening on the server port.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a4">start</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Spawn a thread to listen for activity in the reactor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a5">handle_input</a> (ACE_HANDLE)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Respond to input.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a6">handle_timeout</a> (const ACE_Time_Value tv, const void *arg)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Respond to a timeout.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a7">handle_close</a> (ACE_HANDLE, ACE_Reactor_Mask)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Clean up after ourselves if handler_input or handle_timeout returns a -1.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a8">svc</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Called as the starting point of the listening thread.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>ACE_HANDLE&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a9">get_handle</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the handle of the listener_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>ACE_SOCK_Dgram&amp;&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a10">listener</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for listener_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Peer_Manager.html">Peer_Manager</a>&amp;&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a11">peer_manager</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for peer_manager_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Peer.html">Peer</a>&amp;&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#a12">peer</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for peer_.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#d0">stop</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This sets the <b><a class="el" href="class_Receive_Task.html#p0">finished_</a></b> flag to stop the listening thread.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>ACE_Atomic_Op&lt;ACE_Mutex, int&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#p0">finished_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This is checked periodically to see if we need to stop the thread.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>ACE_INET_Addr&amp;&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#b0">remote</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for remote_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>iovec*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#b1">io_vec</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for io_vec_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Message_Block.html">Message_Block</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#b2">message_block</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for message_block_.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#b3">stream</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor function for stream_.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n0">MLD</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Our memory leak detector.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>ACE_SOCK_Dgram&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n1">listener_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Our server port listener.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>iovec&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n2">io_vec_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Our IO vector. This will be reused for each incoming packet.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Peer_Manager.html">Peer_Manager</a>&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n3">peer_manager_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Our <a class="el" href="class_Peer.html">Peer</a> Manager we use to get/create connections.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Peer.html">Peer</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n4">peer_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>A pointer used to access a <a class="el" href="class_Peer.html">Peer</a>.</em> <a href="#n4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>ACE_INET_Addr&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n5">remote_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The remote machine that is sending the packet.</em> <a href="#n5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Message_Block.html">Message_Block</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n6">message_block_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>A pointer used to create a message block.</em> <a href="#n6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_Receive_Task.html#n7">stream_</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Receive Data Task.
<p>
This class handles all incoming data to the server. It does the following:<ol>
<li>Listen for any incoming packets on the server port.<li>Look in a hash mapping for a related <a class="el" href="class_Peer.html">Peer</a> connection.<li>Create a connection if one is not found, or retrieve the related connection from the hash mapping.<li>Create a <a class="el" href="class_Packet.html">Packet</a> message and push it up the protocol stream. </ol>

<p>
<hr><h2>Member Typedef Documentation</h2>
<a name="s0" doxytag="Receive_Task::inherited"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
typedef <a class="el" href="class_Protocol_Task.html">Protocol_Task</a> Receive_Task::inherited
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="class_Protocol_Task.html#s0">Protocol_Task</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Receive_Task::Receive_Task"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Receive_Task::Receive_Task (
          </b></td>
          <td valign="bottom"><b>
ACE_SOCK_Dgram &amp; <em>listener</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a> * <em>_stream</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Give it something to listen to...
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="Receive_Task::~Receive_Task"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Receive_Task::~Receive_Task (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="Receive_Task::close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::close (
          </b></td>
          <td valign="bottom"><b>
u_long <em>flags</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stop listening on the server port.
<p>
This unregisters with the global reactor and calls <b>stop</b> to stop the listening thread. 
<p>
Reimplemented from <a class="el" href="class_Protocol_Task.html#a3">Protocol_Task</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="Receive_Task::get_handle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_HANDLE Receive_Task::get_handle (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;) const
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the handle of the listener_.
<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="Receive_Task::handle_close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::handle_close (
          </b></td>
          <td valign="bottom"><b>
ACE_HANDLE, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
ACE_Reactor_Mask&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clean up after ourselves if handler_input or handle_timeout returns a -1.
<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="Receive_Task::handle_input"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::handle_input (
          </b></td>
          <td valign="bottom"><b>
ACE_HANDLE&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Respond to input.
<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="Receive_Task::handle_timeout"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::handle_timeout (
          </b></td>
          <td valign="bottom"><b>
const ACE_Time_Value <em>tv</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
const void * <em>arg</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Respond to a timeout.
<p>
    </td>
  </tr>
</table>
<a name="b1" doxytag="Receive_Task::io_vec"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
iovec * Receive_Task::io_vec (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline, protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for io_vec_.
<p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="Receive_Task::listener"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_SOCK_Dgram &amp; Receive_Task::listener (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for listener_.
<p>
    </td>
  </tr>
</table>
<a name="b2" doxytag="Receive_Task::message_block"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Message_Block.html">Message_Block</a> * Receive_Task::message_block (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline, protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for message_block_.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="Receive_Task::open"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::open (
          </b></td>
          <td valign="bottom"><b>
int <em>thread</em> = 1, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="Protocol_Stream_h.html#a1">Thread_Timer_Queue</a> * <em>timer_queue</em> = 0&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call this to start listening on the server port.
<p>
This registers with the global reactor. It calls <b>start</b> to listen for activity if <em>thread</em> != 0. If thread = 0, you need to run the global reactors handle_events loop to listen for packets.     </td>
  </tr>
</table>
<a name="a12" doxytag="Receive_Task::peer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Peer.html">Peer</a> &amp; Receive_Task::peer (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for peer_.
<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="Receive_Task::peer_manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Peer_Manager.html">Peer_Manager</a> &amp; Receive_Task::peer_manager (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for peer_manager_.
<p>
    </td>
  </tr>
</table>
<a name="b0" doxytag="Receive_Task::remote"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_INET_Addr &amp; Receive_Task::remote (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline, protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for remote_.
<p>
    </td>
  </tr>
</table>
<a name="a4" doxytag="Receive_Task::start"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::start (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Spawn a thread to listen for activity in the reactor.
<p>
    </td>
  </tr>
</table>
<a name="d0" doxytag="Receive_Task::stop"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::stop (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This sets the <b><a class="el" href="class_Receive_Task.html#p0">finished_</a></b> flag to stop the listening thread.
<p>
    </td>
  </tr>
</table>
<a name="b3" doxytag="Receive_Task::stream"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a> * Receive_Task::stream (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [inline, protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor function for stream_.
<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="Receive_Task::svc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int Receive_Task::svc (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called as the starting point of the listening thread.
<p>

<p>
Reimplemented from <a class="el" href="class_Protocol_Task.html#a5">Protocol_Task</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="n0" doxytag="Receive_Task::MLD"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Receive_Task::MLD<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Our memory leak detector.
<p>

<p>
Reimplemented from <a class="el" href="class_Protocol_Task.html#n1">Protocol_Task</a>.    </td>
  </tr>
</table>
<a name="p0" doxytag="Receive_Task::finished_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_Atomic_Op&lt;ACE_Mutex, int&gt; Receive_Task::finished_<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is checked periodically to see if we need to stop the thread.
<p>
    </td>
  </tr>
</table>
<a name="n2" doxytag="Receive_Task::io_vec_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
iovec Receive_Task::io_vec_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Our IO vector. This will be reused for each incoming packet.
<p>
    </td>
  </tr>
</table>
<a name="n1" doxytag="Receive_Task::listener_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_SOCK_Dgram Receive_Task::listener_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Our server port listener.
<p>
    </td>
  </tr>
</table>
<a name="n6" doxytag="Receive_Task::message_block_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Message_Block.html">Message_Block</a> * Receive_Task::message_block_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer used to create a message block.
<p>
We create this here to save on memory thrashing for each packet that comes in.     </td>
  </tr>
</table>
<a name="n4" doxytag="Receive_Task::peer_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Peer.html">Peer</a> * Receive_Task::peer_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer used to access a <a class="el" href="class_Peer.html">Peer</a>.
<p>
We create this here to save on memory thrashing for each packet that comes in.     </td>
  </tr>
</table>
<a name="n3" doxytag="Receive_Task::peer_manager_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Peer_Manager.html">Peer_Manager</a> Receive_Task::peer_manager_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Our <a class="el" href="class_Peer.html">Peer</a> Manager we use to get/create connections.
<p>
    </td>
  </tr>
</table>
<a name="n5" doxytag="Receive_Task::remote_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ACE_INET_Addr Receive_Task::remote_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The remote machine that is sending the packet.
<p>
We create this here to save on memory thrashing for each packet that comes in.     </td>
  </tr>
</table>
<a name="n7" doxytag="Receive_Task::stream_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_Protocol_Stream.html">Protocol_Stream</a>* Receive_Task::stream_<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Receive_Task_h-source.html">Receive_Task.h</a></ul>
<hr><address><small>Generated at Sat Apr 28 02:43:53 2001 for OpenQuest Network API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
