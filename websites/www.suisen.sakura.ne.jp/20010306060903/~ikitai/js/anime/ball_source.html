<HTML>
<HEAD>
<TITLE>跳ね返るボールのソース</TITLE>
</HEAD>

<BODY>


<!-- SPANのwidthとheightは画像の幅、高さと合わせてください -->
<SPAN ID="ball" STYLE="position:absolute; width:60; height:60;">
<IMG SRC="images/ball.gif" border="0" WIDTH="60" HEIGHT="60">
</SPAN>

<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript">
<!--

var xMv = 20, yMv = 20;		// 移動量
var wImg = 60, hImg = 60;	// 画像の幅,高さ

var x=0,y=0;

function getWindowPos() {
	if(document.all) {
		min_x = document.body.scrollLeft;
		min_y = document.body.scrollTop;
		max_x = document.body.clientWidth+document.body.scrollLeft;
		max_y = document.body.clientHeight+document.body.scrollTop;
	} else if (document.layers) {
		min_x = pageXOffset;
		min_y = pageYOffset;
		max_x = self.innerWidth+pageXOffset;
		max_y = self.innerHeight+pageYOffset;
	}
}

function moveBall() {
	if (document.all || document.layers) {
		getWindowPos();
	    if ((x + xMv) > (max_x-wImg) || (x + xMv) < min_x) xMv *= -1;
	    if ((y + yMv) > (max_y-hImg) || (y + yMv) < min_y) yMv *= -1;
	    x += xMv; y += yMv;
	    if(x < min_x) x = min_x;
	    if(x > max_x-wImg) x = max_x-wImg;
	    if(y < min_y) y = min_y;
	    if(y > max_y-hImg) y = max_y-hImg;
	    if (document.all) {
	        document.all('ball').style.posLeft = x;
	        document.all('ball').style.posTop = y;
	    } else if (document.layers) {
	        document.layers['ball'].left = x;
	        document.layers['ball'].top = y;
	    }
	    setTimeout("moveBall()",10);
	}
}

function jump(link) {
	location.href = link.href;
}

moveBall();

//-->
</SCRIPT>


<P><B><FONT size="6">跳ね返るボールのソース</FONT></B><BR>
<B><FONT color="#ff0000" size="4">IE4.x/5.x NN4.x</FONT></B></P>
<HR>
<SCRIPT type="text/javascript">
<!--
function CopyToClipBoard() {
	textRange = document.body.createTextRange();
	textRange.moveToElementText(source);
	textRange.execCommand("Copy");
}

if ((navigator.appName == "Microsoft Internet Explorer") && (parseInt(navigator.appVersion) >= 4) && (navigator.userAgent.indexOf("Win") > 0)) {
	document.write('<INPUT type="button" value="ソースをクリップボードへコピー" onclick="CopyToClipBoard();">');
	document.write('<BR><BR>');
}
// -->
</SCRIPT>

<DIV id="source"><PRE>&lt;HTML&gt;
&lt;HEAD&gt;
&lt;TITLE&gt;はねるボール&lt;/TITLE&gt;
&lt;/HEAD&gt;

&lt;BODY&gt;

&lt;!-- SPANのwidthとheightは画像の幅、高さと合わせてください --&gt;
&lt;SPAN ID=&quot;ball&quot; STYLE=&quot;position:absolute; width:60; height:60;&quot;&gt;
&lt;A href=&quot;ball_source.html&quot; onmousedown=&quot;jump(this)&quot;return false;&gt;&lt;IMG SRC=&quot;images/ball.gif&quot; border=&quot;0&quot; WIDTH=&quot;60&quot; HEIGHT=&quot;60&quot;&gt;&lt;/A&gt;
&lt;/SPAN&gt;

&lt;SCRIPT TYPE=&quot;text/javascript&quot; LANGUAGE=&quot;JavaScript&quot;&gt;
&lt;!--

var xMv = 20, yMv = 20;         // 移動量
var wImg = 60, hImg = 60;       // 画像の幅,高さ

var x=0,y=0;

function getWindowPos() {
        if(document.all) {
                min_x = document.body.scrollLeft;
                min_y = document.body.scrollTop;
                max_x = document.body.clientWidth+document.body.scrollLeft;
                max_y = document.body.clientHeight+document.body.scrollTop;
        } else if (document.layers) {
                min_x = pageXOffset;
                min_y = pageYOffset;
                max_x = self.innerWidth+pageXOffset;
                max_y = self.innerHeight+pageYOffset;
        }
}

function moveBall() {
        if (document.all || document.layers) {
                getWindowPos();
            if ((x + xMv) &gt; (max_x-wImg) || (x + xMv) &lt; min_x) xMv *= -1;
            if ((y + yMv) &gt; (max_y-hImg) || (y + yMv) &lt; min_y) yMv *= -1;
            x += xMv; y += yMv;
            if(x &lt; min_x) x = min_x;
            if(x &gt; max_x-wImg) x = max_x-wImg;
            if(y &lt; min_y) y = min_y;
            if(y &gt; max_y-hImg) y = max_y-hImg;
            if (document.all) {
                document.all('ball').style.posLeft = x;
                document.all('ball').style.posTop = y;
            } else if (document.layers) {
                document.layers['ball'].left = x;
                document.layers['ball'].top = y;
            }
            setTimeout(&quot;moveBall()&quot;,10);
        }
}

function jump(link) {
        location.href = link.href;
}

moveBall();

//--&gt;
&lt;/SCRIPT&gt;


&lt;/BODY&gt;
&lt;/HTML&gt;</PRE></DIV>
<HR>
<P>ボールクリックでページ移動をしたくない時は&lt;A&gt;タグを取ってください。<BR>
例）<BR>
&lt;SPAN ID=&quot;ball&quot; STYLE=&quot;position:absolute;
width:60; height:60;&quot;&gt;<BR>
&lt;IMG SRC=&quot;ball.gif&quot; border=&quot;0&quot;
WIDTH=&quot;60&quot; HEIGHT=&quot;60&quot;&gt;<BR>
&lt;/SPAN<BR>
<BR>
<BR>
<BR>
</P>
</BODY>
</HTML>
